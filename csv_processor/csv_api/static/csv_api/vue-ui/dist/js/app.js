(function(){"use strict";var e={4901:function(e,t,n){var s=n(9199);const r={id:"app"};function o(e,t,n,o,i,l){const c=(0,s.up)("SearchAutocomplete");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(c,{items:i.csvData},null,8,["items"])])}const i={class:"autocomplete"},l={class:"autocomplete-results",ref:"resultsList"},c=["onMouseover"];function a(e,t,n,r,o,a){return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.search=e),onInput:t[1]||(t[1]=(...e)=>a.onChange&&a.onChange(...e)),onFocus:t[2]||(t[2]=(...e)=>a.clearTxt&&a.clearTxt(...e)),onKeydown:[t[3]||(t[3]=(0,s.D2)((0,s.iM)(((...e)=>a.resetCmp&&a.resetCmp(...e)),["prevent"]),["esc"])),t[4]||(t[4]=(0,s.D2)((0,s.iM)(((...e)=>a.onArrowDown&&a.onArrowDown(...e)),["prevent"]),["down"])),t[5]||(t[5]=(0,s.D2)((0,s.iM)(((...e)=>a.onArrowUp&&a.onArrowUp(...e)),["prevent"]),["up"])),t[6]||(t[6]=(0,s.D2)((0,s.iM)(((...e)=>a.selectItem&&a.selectItem(...e)),["prevent"]),["enter"])),t[7]||(t[7]=(0,s.D2)((0,s.iM)(((...e)=>a.selectItem&&a.selectItem(...e)),["prevent"]),["tab"]))],type:"text",ref:"inputField",placeholder:"Type something"},null,544),[[s.nr,o.search]]),(0,s.wy)((0,s._)("ul",l,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.results,((e,n)=>((0,s.wg)(),(0,s.iD)("li",{key:n,onClick:t[8]||(t[8]=e=>a.selectItem()),onMouseover:e=>o.selectedIndex=n,class:(0,s.C_)(["autocomplete-result",{"is-active":n===o.selectedIndex}])},(0,s.zw)(e),43,c)))),128))],512),[[s.F8,o.isOpen]]),(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{class:"nextEle","onUpdate:modelValue":t[9]||(t[9]=e=>o.nextInputValue=e),ref:"nextInputElement",type:"text",placeholder:"illustrating the focus"},null,512),[[s.nr,o.nextInputValue]])])])}var u={name:"SearchAutocomplete",props:{items:{type:Array,required:!1,default:()=>[]}},data(){return{search:"",results:[],isOpen:!1,selectedIndex:-1,nextInputValue:""}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{clearTxt(){this.search="",this.onChange()},resetCmp(){this.search="",this.isOpen=!1},filterResultsUnaccented(){this.results=this.items.filter((e=>e.toLowerCase().indexOf(this.search.toLowerCase())>-1))},filterResults(){const e=this.search.toLowerCase();this.results=this.items.filter((t=>{const n=t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),s=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return n.indexOf(s)>-1}))},onChange(){this.filterResults(),""!==this.search.trim()||this.results.length>0?this.isOpen=!0:(this.selectedIndex=-1,this.isOpen=!1)},handleClickOutside(e){this.$el.contains(e.target)||(this.selectedIndex=-1,this.isOpen=!1)},onArrowDown(){this.clearHoverSelection(),this.selectedIndex<this.results.length-1&&(this.selectedIndex++,this.addHoverSelection(),this.calculateScrollPosition())},onArrowUp(){this.selectedIndex>0&&(this.selectedIndex--,this.calculateScrollPosition())},onEnter(){this.search=this.results[this.selectedIndex],this.selectedIndex=-1,this.isOpen=!1},selectItem(){-1!==this.selectedIndex&&(this.search=this.results[this.selectedIndex],this.isOpen=!1,this.$nextTick((()=>{const e=this.$refs.nextInputElement;e&&e.focus&&e.focus()})))},clearHoverSelection(){this.$refs.resultsList.querySelectorAll(".autocomplete-result").forEach(((e,t)=>{t!==this.selectedIndex&&e.classList.remove("is-active")}))},addHoverSelection(){this.$refs.resultsList.querySelectorAll(".autocomplete-result").forEach(((e,t)=>{t===this.selectedIndex&&e.classList.add("is-active")}))},calculateScrollPosition(){const e=window.getComputedStyle(this.$refs.resultsList),t=parseFloat(e.fontSize),n=1.5,s=this.$refs.resultsList,r=(this.selectedIndex-3)*n*t;s.scrollTop=r}}},h=n(89);const d=(0,h.Z)(u,[["render",a]]);var p=d,f=n(1076),m={name:"App",components:{SearchAutocomplete:p},data(){return{csvData:[]}},mounted(){this.fetchCSVData()},methods:{fetchCSVData(){f.Z.get("http://127.0.0.1:8000/api/process-csv/").then((e=>{this.csvData=e.data})).catch((e=>{console.error("Error fetching CSV data:",e)}))}}};const v=(0,h.Z)(m,[["render",o]]);var x=v;(0,s.ri)(x).mount("#app")}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,s,r,o){if(!s){var i=1/0;for(u=0;u<e.length;u++){s=e[u][0],r=e[u][1],o=e[u][2];for(var l=!0,c=0;c<s.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](s[c])}))?s.splice(c--,1):(l=!1,o<i&&(i=o));if(l){e.splice(u--,1);var a=r();void 0!==a&&(t=a)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[s,r,o]}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,o,i=s[0],l=s[1],c=s[2],a=0;if(i.some((function(t){return 0!==e[t]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(c)var u=c(n)}for(t&&t(s);a<i.length;a++)o=i[a],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},s=self["webpackChunkvue_autocomplete_component_example"]=self["webpackChunkvue_autocomplete_component_example"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(4901)}));s=n.O(s)})();
//# sourceMappingURL=app.js.map